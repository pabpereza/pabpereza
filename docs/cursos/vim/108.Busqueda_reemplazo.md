---
title: "B칰squeda y Reemplazo Eficiente"
description: "Domina las t칠cnicas de b칰squeda y reemplazo en Vim para mejorar tu productividad."
tags: [vim, b칰squeda, reemplazo, expresiones regulares]
keywords: [vim, b칰squeda, reemplazo, expresiones regulares, productividad]
image: 'https://pabpereza.dev/img/banner_vim.png'
sidebar_label: "B칰squeda y Reemplazo"
---


# B칰squeda y Reemplazo Eficiente

La b칰squeda y reemplazo son funcionalidades fundamentales en Vim que te permitir치n trabajar con gran velocidad y precisi칩n. Dominar estas t칠cnicas es clave para la productividad.

## 游댌 B칰squeda B치sica

### B칰squeda hacia adelante
```vim
/patr칩n
```

### B칰squeda hacia atr치s
```vim
?patr칩n
```

### Navegaci칩n en resultados
- `n` - Siguiente resultado
- `N` - Resultado anterior
- `*` - Buscar palabra bajo el cursor (hacia adelante)
- `#` - Buscar palabra bajo el cursor (hacia atr치s)

## 游꿢 B칰squeda Avanzada

### B칰squeda incremental
```vim
:set incsearch    " B칰squeda en tiempo real
:set hlsearch     " Resaltar resultados
:nohlsearch       " Quitar resaltado (o :noh)
```

### B칰squeda con sensibilidad de may칰sculas
```vim
:set ignorecase   " Ignorar may칰sculas
:set smartcase    " Inteligente: may칰sculas solo si escribes may칰sculas
```

### B칰squeda de palabras completas
```vim
/\<palabra\>      " Buscar palabra exacta
```

### B칰squeda multi-l칤nea
```vim
/palabra\_s*en\_s*otra\_s*l칤nea    " Con espacios y saltos de l칤nea
```

## 游댃 Reemplazo (Substitute)

### Sintaxis b치sica
```vim
:[rango]s/patr칩n/reemplazo/[flags]
```

### Ejemplos b치sicos
```vim
:s/viejo/nuevo/           " Primera ocurrencia en l칤nea actual
:s/viejo/nuevo/g          " Todas las ocurrencias en l칤nea actual
:%s/viejo/nuevo/g         " Todas las ocurrencias en todo el archivo
:1,10s/viejo/nuevo/g      " L칤neas 1 a 10
```

### Flags 칰tiles
- `g` - Global (todas las ocurrencias en la l칤nea)
- `c` - Confirmar cada reemplazo
- `i` - Ignorar may칰sculas
- `I` - No ignorar may칰sculas

### Reemplazo con confirmaci칩n
```vim
:%s/viejo/nuevo/gc
```
- `y` - S칤, reemplazar
- `n` - No, saltar
- `a` - S칤 a todo
- `q` - Salir
- `l` - Reemplazar este y salir

## 游꿛 Expresiones Regulares

### Metacaracteres b치sicos
```vim
.       " Cualquier car치cter
*       " 0 o m치s del car치cter anterior
\+      " 1 o m치s del car치cter anterior
\?      " 0 o 1 del car치cter anterior
^       " Inicio de l칤nea
$       " Final de l칤nea
\<      " Inicio de palabra
\>      " Final de palabra
```

### Clases de caracteres
```vim
[abc]       " a, b, o c
[a-z]       " Cualquier letra min칰scula
[A-Z]       " Cualquier letra may칰scula
[0-9]       " Cualquier d칤gito
\d          " D칤gito [0-9]
\D          " No d칤gito
\w          " Car치cter de palabra [a-zA-Z0-9_]
\W          " No car치cter de palabra
\s          " Espacio en blanco
\S          " No espacio en blanco
```

### Grupos y referencias
```vim
\(patr칩n\)              " Grupo capturado
:%s/\(hello\) \(world\)/\2 \1/g    " Intercambiar palabras
```

## 游 T칠cnicas Avanzadas

### Reemplazo usando expresiones Vim
```vim
:%s/\d\+/\=submatch(0)*2/g    " Duplicar todos los n칰meros
```

### Reemplazo en archivos espec칤ficos
```vim
:args **/*.js | argdo %s/var/let/ge | update
```

### B칰squeda en m칰ltiples archivos
```vim
:vimgrep /patr칩n/ **/*.py    " Buscar en archivos Python
:copen                       " Abrir lista de resultados
```

### Usar el registro de b칰squeda
```vim
:let @/ = "mi_b칰squeda"     " Establecer b칰squeda program치ticamente
```

## 游닇 Ejercicios Pr치cticos

### Ejercicio 1: B칰squeda b치sica
1. Abre un archivo con c칩digo
2. Busca todas las instancias de una funci칩n espec칤fica
3. Navega entre los resultados
4. Usa `*` para buscar la palabra bajo el cursor

### Ejercicio 2: Reemplazo simple
```
Texto original:
var nombre = "Juan";
var edad = 25;
var activo = true;

Tarea: Reemplazar todas las 'var' por 'let'
```

### Ejercicio 3: Reemplazo con grupos
```
Texto original:
console.log("Error: " + message);
console.log("Warning: " + warning);
console.log("Info: " + info);

Tarea: Cambiar a template literals
Resultado: console.log(`Error: ${message}`);
```

### Ejercicio 4: Expresiones regulares
```
Texto original:
2023-12-01
2023-11-15
2023-10-30

Tarea: Cambiar formato a 01/12/2023
```

## 游꿢 Casos de Uso Reales

### Refactoring de c칩digo
```vim
" Cambiar nombre de variable en todo el archivo
:%s/\<oldVarName\>/newVarName/g

" Cambiar importaciones
:%s/from '\.\/old-module'/from '.\/new-module'/g
```

### Limpieza de datos
```vim
" Eliminar espacios al final de l칤neas
:%s/\s\+$//g

" Normalizar espacios m칰ltiples
:%s/\s\+/ /g

" Convertir tabs a espacios
:%s/\t/    /g
```

### Formateo de texto
```vim
" Agregar comillas a palabras
:%s/\w\+/"&"/g

" Convertir lista a array
:%s/\n/, /g
```

## 丘뙖잺 Configuraci칩n Recomendada

Agrega estas l칤neas a tu `.vimrc`:

```vim
" Mejoras para b칰squeda
set incsearch      " B칰squeda incremental
set hlsearch       " Resaltar resultados
set ignorecase     " Ignorar may칰sculas
set smartcase      " Inteligente con may칰sculas

" Atajo para quitar resaltado
nnoremap <Leader>h :nohlsearch<CR>

" Mantener selecci칩n despu칠s de buscar
vnoremap * y/\V<C-R>=escape(@",'/\')<CR><CR>

" B칰squeda del texto seleccionado
vnoremap // y/\V<C-R>=escape(@",'/\')<CR><CR>
```

## 游끥 Tips Pro

1. **Usa `very magic`**: `:set magic` o `\v` al inicio del patr칩n
2. **Historial de b칰squeda**: `q/` para acceso completo
3. **B칰squeda global**: `:g/patr칩n/comando` para ejecutar comando en l칤neas que coincidan
4. **Preview de cambios**: Usa el flag `n` para contar ocurrencias sin reemplazar
5. **Deshacer masivo**: `u` deshace todo el comando substitute

## 游닄 Recursos Adicionales

- `:help pattern-overview` - Documentaci칩n de patrones
- `:help substitute` - Documentaci칩n completa de substitute
- `:help regular-expression` - Gu칤a de expresiones regulares en Vim

---

**Pr칩ximo cap칤tulo**: [Buffers, ventanas y pesta침as](109.Buffers_ventanas_tabs.md)

춰La b칰squeda y reemplazo eficiente es una de las superpotencias de Vim! Practica estos comandos hasta que se vuelvan autom치ticos.
