---
title: Futuro y Tendencias
sidebar_label: 9. Futuro
---

# Futuro y Tendencias ğŸš€

Hacia dÃ³nde va la automatizaciÃ³n con Ansible.

:::info Video pendiente de grabaciÃ³n
:::

## 9.1. AutomatizaciÃ³n de Redes (Network Automation)

Hasta ahora hemos usado Ansible para configurar servidores (Linux/Windows). Pero la infraestructura no son solo servidores; son tambiÃ©n routers, switches, firewalls y balanceadores.

### ğŸ›« La AnalogÃ­a: El Controlador AÃ©reo
Imagina un controlador de trÃ¡fico aÃ©reo.
*   Hasta ahora, solo hablabas con los **pilotos** (Servidores).
*   Pero para que el aeropuerto funcione, tambiÃ©n necesitas controlar las **luces de la pista**, los **radares** y las **barreras de acceso** (La Red).

Ansible es ese controlador universal. Puede hablar con un servidor Linux y, en la siguiente tarea, configurar una VLAN en un switch Cisco.

### La Diferencia TÃ©cnica: `network_cli`
En Linux, Ansible sube un script de Python y lo ejecuta. Pero en un router Cisco o Juniper, **no puedes instalar Python**. Son sistemas cerrados.

Por eso, Ansible usa mÃ³dulos de red que funcionan diferente: se conectan por SSH, lanzan comandos nativos del router y analizan la respuesta de texto.

```yaml
- name: Configurar Switch Cisco
  hosts: switches
  connection: network_cli  # <--- La clave: No usa Python en el destino
  gather_facts: no
  
  tasks:
    - name: Configurar VLAN 10
      cisco.ios.ios_vlan:
        vlan_id: 10
        name: VENTAS
        state: present
```

---

## 9.2. Event-Driven Ansible (EDA) y AI

El futuro de la automatizaciÃ³n no es solo ejecutar tareas cuando tÃº quieras, sino que la infraestructura se arregle sola cuando algo suceda.

### âš¡ De Proactivo a Reactivo
*   **Ansible ClÃ¡sico (Proactivo):** TÃº ejecutas el Playbook manualmente o programado.
*   **Event-Driven Ansible (Reactivo):** "Si el monitoreo detecta X, entonces ejecuta Y".

### Flujo de Trabajo EDA

```mermaid
flowchart LR
    A[Fuente de Eventos\n(Prometheus / Kafka / Webhook)] -->|1. Alerta: Web CaÃ­da| B(Ansible Rulebook)
    B -->|2. DecisiÃ³n: Reiniciar Servicio| C[Ansible Controller]
    C -->|3. Ejecuta Playbook| D[Servidor Remoto]
    D -->|4. Problema Resuelto| A
    style A fill:#ff9900,color:black
    style B fill:#333,color:white
    style C fill:#cc0000,color:white
```

### ğŸ¤– Ansible Lightspeed (IA Generativa)
Escribir YAML es fÃ¡cil, pero saberse los 5000 mÃ³dulos de memoria es imposible.
**Ansible Lightspeed** (con IBM Watson Code Assistant) es el "Copilot" de Ansible.
TÃº escribes en lenguaje natural: *"Create an AWS EC2 instance t2.micro in us-east-1"* y la IA genera el cÃ³digo YAML vÃ¡lido por ti.

---

## 9.3. IntegraciÃ³n en CI/CD

El objetivo final de un ingeniero DevOps no es ejecutar `ansible-playbook` desde su portÃ¡til, sino que todo ocurra automÃ¡ticamente en un pipeline.

### ğŸ”„ El Flujo GitOps
Nadie toca producciÃ³n manualmente. Todo cambio pasa por Git.

```mermaid
sequenceDiagram
    participant D as Developer
    participant G as GitHub/GitLab
    participant CI as CI Pipeline (Actions)
    participant S as Servidor Prod

    D->>G: git push (Cambio en config)
    G->>CI: Dispara Pipeline
    CI->>CI: Instala Ansible
    CI->>CI: Descifra secretos (Vault)
    CI->>S: Ejecuta Playbook
    S-->>CI: ConfiguraciÃ³n Aplicada
    CI-->>D: NotificaciÃ³n (Ã‰xito âœ…)
```

### ğŸ§ª Caso PrÃ¡ctico: GitHub Actions
Este es un ejemplo real de cÃ³mo se ve un archivo `.github/workflows/deploy.yml` que ejecuta Ansible:

```yaml
name: Despliegue con Ansible

on:
  push:
    branches: [ "main" ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Instalar Ansible
        run: pip install ansible

      - name: Configurar clave SSH
        run: |
          mkdir -p ~/.ssh
          echo "${{ secrets.SSH_PRIVATE_KEY }}" > ~/.ssh/id_rsa
          chmod 600 ~/.ssh/id_rsa
          # Evitar prompt de "Host key verification"
          echo "StrictHostKeyChecking no" >> ~/.ssh/config

      - name: Ejecutar Playbook
        run: |
          echo "${{ secrets.VAULT_PASSWORD }}" > .vault_pass
          ansible-playbook -i inventory.ini site.yml --vault-password-file .vault_pass
```

---

## ğŸ“ ConclusiÃ³n del Curso

Â¡Felicidades! Has pasado de ejecutar comandos SSH manuales a entender cÃ³mo orquestar infraestructuras enteras con cÃ³digo.

**Â¿QuÃ© sigue ahora?**
1.  **Practica:** Automatiza tu entorno local, tu Raspberry Pi o tu VPS.
2.  **CertifÃ­cate:** El examen **Red Hat Certified Engineer (RHCE)** es el estÃ¡ndar de oro en la industria y se basa casi totalmente en Ansible.
3.  **Explora:** MÃ©tete en Ansible Galaxy y mira cÃ³mo los expertos estructuran sus roles.

La automatizaciÃ³n es un superpoder. Ãšsalo bien y nunca mÃ¡s tendrÃ¡s que trabajar un viernes por la tarde. Â¡Nos vemos en el siguiente curso! ğŸš€
